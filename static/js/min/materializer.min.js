var sb=sb||{};sb.materializer=function(){var c=d3.dispatch("update"),a,f,g,e,d,b;f={earrings:"pair of earrings",pendant:"small pendant necklace",necklace:"large necklace",cufflinks:"pair of cufflinks"};g={earrings:"earrings",pendant:"pendant necklace",necklace:"large necklace",cufflinks:"cufflinks"};c.initialize=function(h){a=h;c.materials=$("#material-list");c.materials.find("li").live("click",function(k){var j=k.currentTarget.id.split("-");c.material(j[1]);c.color(j[0]);var i=$(this);i.parent().find("li").removeClass("selected");i.addClass("selected")})};c.product=function(i){if(!arguments.length){return e}e=i;var h=a.getMaterials(i);$.each(c.materials.find("li"),function(k,j){var l=$(this).attr("id");if(h[l]){$(j).removeClass("inactive").find(".price").text("$"+h[l])}else{$(j).addClass("inactive").find(".price").text("")}});return c};c.material=function(h){if(!arguments.length){return d}d=h;return c};c.color=function(h){if(!arguments.length){return b}b=h;c.update();return c};c.productName=function(){return g[e]};c.displayName=function(){return f[e].toLowerCase()};return c}();