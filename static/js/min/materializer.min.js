var sb=sb||{};sb.materializer=function(){var c=d3.dispatch("update"),a,e,d,b;c.initialize=function(f){a=f;c.materials=$("#material-list");c.materials.find("li").live("click",function(i){var h=i.currentTarget.id.split("-");c.material(h[1]);c.color(h[0]);var g=$(this);g.parent().find("li").removeClass("selected");g.addClass("selected");sb.ui.orderer.updated()})};c.product=function(g){if(!arguments.length){return e}e=g;var f=a.getMaterials(g);$.each(c.materials.find("li"),function(j,h){var k=$(this).attr("id");if(f[k]){$(h).removeClass("inactive").find(".price").text("$"+f[k]);$(h).find(".img-wrapper").attr("class","img-wrapper "+g)}else{$(h).addClass("inactive").removeClass("selected").find(".price").text("");$(h).find(".img-wrapper").attr("class","img-wrapper")}});return c};c.material=function(f){if(!arguments.length){return d}if(f=="reset"){d=null}else{d=f}return c};c.color=function(f){if(!arguments.length){return b}b=f;c.update();return c};return c}();